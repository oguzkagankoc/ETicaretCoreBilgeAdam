@model UrunlerRaporIndexViewModel

<div asp-validation-summary="All" class="text-danger"></div>

<partial name="_Sonuc"/>

@if (Model.UrunlerRapor != null && Model.UrunlerRapor.Count() > 0)
{
    <div class="row" style="padding-bottom: 15px;">
        <div class="col-1">
            <label asp-for="Sayfa"></label>
        </div>
        <div class="col-1">
            <select asp-for="Sayfa.PageNumber" asp-items="Model.SayfalarSelectList" class="form-control" id="sayfa"></select>
        </div>
        <div class="col-6">

        </div>
        <div class="col-1">
            <label asp-for="Sira"></label>
        </div>
        <div class="col-2">

            @* Sıralama 1 *@
            <select asp-for="Sira.Expression" asp-items="Model.SiraSutunBasliklariSelectList" class="form-control sira" id="orderbyexpressionselect"></select>

        </div>
        <div class="col-1">

            @* Sıralama 1 *@
            <select asp-for="Sira.DirectionAscending" asp-items="Model.SiraYonSelectList" class="form-control sira" id="orderbydirectionselect"></select>

        </div>
    </div>
    <table class="table table-striped">
        <thead>
        <tr>
            <th>
                @* 
                    List kullanıldığında IEnumerable'da olduğu gibi özellik'lerdeki DisplayName'i kullanabilmek için model'deki 
                    özellik adları kullanılamaz. Bu yüzden listedeki herhangi bir elemana ulaşmak (FirstOrDefault mantıklı)
                    ve bu eleman üzerinden özellik adlarını kullanmak gerekir.
                *@

                @* Sıralama 2 *@
                @*@Html.DisplayNameFor(model => model.UrunlerRapor.FirstOrDefault().MagazaAdi)*@
                @{
                    string magazaAdiDisplayName = Html.DisplayNameFor(model => model.UrunlerRapor.FirstOrDefault().MagazaAdi);
                }
                <a href="#" class="orderbyexpressionlink">@magazaAdiDisplayName</a>
                &nbsp;
                @if (!string.IsNullOrWhiteSpace(Model.Sira.Expression) && Model.Sira.Expression == magazaAdiDisplayName)
                {
                    if (Model.Sira.DirectionAscending)
                    {
                        <span class="text-primary"><i class="fas fa-sort-up"></i></span>
                    }
                    else
                    {
                        <span class="text-primary"><i class="fas fa-sort-down"></i></span>
                    }
                }

            </th>
            <th>
                
                @* Sıralama 2 *@
                @*@Html.DisplayNameFor(model => model.UrunlerRapor.FirstOrDefault().KategoriAdi)*@
                @{
                    string kategoriAdiDisplayName = Html.DisplayNameFor(model => model.UrunlerRapor.FirstOrDefault().KategoriAdi);
                }
                <a href="#" class="orderbyexpressionlink">@kategoriAdiDisplayName</a>
                &nbsp;
                @if (!string.IsNullOrWhiteSpace(Model.Sira.Expression) && Model.Sira.Expression == kategoriAdiDisplayName)
                {
                    if (Model.Sira.DirectionAscending)
                    {
                        <span class="text-primary"><i class="fas fa-sort-up"></i></span>
                    }
                    else
                    {
                        <span class="text-primary"><i class="fas fa-sort-down"></i></span>
                    }
                }

            </th>
            <th>
                
                @* Sıralama 2 *@
                @*@Html.DisplayNameFor(model => model.UrunlerRapor.FirstOrDefault().UrunAdi)*@
                @{
                    string urunAdiDisplayName = Html.DisplayNameFor(model => model.UrunlerRapor.FirstOrDefault().UrunAdi);
                }
                <a href="#" class="orderbyexpressionlink">@urunAdiDisplayName</a>
                &nbsp;
                @if (!string.IsNullOrWhiteSpace(Model.Sira.Expression) && Model.Sira.Expression == urunAdiDisplayName)
                {
                    if (Model.Sira.DirectionAscending)
                    {
                        <span class="text-primary"><i class="fas fa-sort-up"></i></span>
                    }
                    else
                    {
                        <span class="text-primary"><i class="fas fa-sort-down"></i></span>
                    }
                }

            </th>
            <th>
                
                @* Sıralama 2 *@
                @*@Html.DisplayNameFor(model => model.UrunlerRapor.FirstOrDefault().UrunBirimFiyatiDisplay)*@
                @{
                    string urunBirimFiyatiDisplayName = Html.DisplayNameFor(model => model.UrunlerRapor.FirstOrDefault().UrunBirimFiyatiDisplay);
                }
                <a href="#" class="orderbyexpressionlink">@urunBirimFiyatiDisplayName</a>
                &nbsp;
                @if (!string.IsNullOrWhiteSpace(Model.Sira.Expression) && Model.Sira.Expression == urunBirimFiyatiDisplayName)
                {
                    if (Model.Sira.DirectionAscending)
                    {
                        <span class="text-primary"><i class="fas fa-sort-up"></i></span>
                    }
                    else
                    {
                        <span class="text-primary"><i class="fas fa-sort-down"></i></span>
                    }
                }

            </th>
            <th>
                
                @* Sıralama 2 *@
                @*@Html.DisplayNameFor(model => model.UrunlerRapor.FirstOrDefault().UrunStokMiktari)*@
                @{
                    string urunStokMiktariDisplayName = Html.DisplayNameFor(model => model.UrunlerRapor.FirstOrDefault().UrunStokMiktari);
                }
                <a href="#" class="orderbyexpressionlink">@urunStokMiktariDisplayName</a>
                &nbsp;
                @if (!string.IsNullOrWhiteSpace(Model.Sira.Expression) && Model.Sira.Expression == urunStokMiktariDisplayName)
                {
                    if (Model.Sira.DirectionAscending)
                    {
                        <span class="text-primary"><i class="fas fa-sort-up"></i></span>
                    }
                    else
                    {
                        <span class="text-primary"><i class="fas fa-sort-down"></i></span>
                    }
                }

            </th>
            <th>
                
                @* Sıralama 2 *@
                @*@Html.DisplayNameFor(model => model.UrunlerRapor.FirstOrDefault().UrunSonKullanmaTarihiDisplay)*@
                @{
                    string urunSonKullanmaTarihiDisplayName = Html.DisplayNameFor(model => model.UrunlerRapor.FirstOrDefault().UrunSonKullanmaTarihiDisplay);
                }
                <a href="#" class="orderbyexpressionlink">@urunSonKullanmaTarihiDisplayName</a>
                &nbsp;
                @if (!string.IsNullOrWhiteSpace(Model.Sira.Expression) && Model.Sira.Expression == urunSonKullanmaTarihiDisplayName)
                {
                    if (Model.Sira.DirectionAscending)
                    {
                        <span class="text-primary"><i class="fas fa-sort-up"></i></span>
                    }
                    else
                    {
                        <span class="text-primary"><i class="fas fa-sort-down"></i></span>
                    }
                }

            </th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        @foreach (var item in Model.UrunlerRapor)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.MagazaAdi)
                </td>
                <td>
                    @if (string.IsNullOrWhiteSpace(item.KategoriAciklamasi))
                    {
                        @Html.DisplayFor(modelItem => item.KategoriAdi)
                    }
                    else
                    {
                        <a title="@item.KategoriAciklamasi" style="cursor: zoom-in;"><i class="fas fa-info-circle"></i> @item.KategoriAdi</a>
                    }
                </td>
                <td>
                    @if (string.IsNullOrWhiteSpace(item.UrunAciklamasi))
                    {
                        @Html.DisplayFor(modelItem => item.UrunAdi)
                    }
                    else
                    {
                        <a title="@item.UrunAciklamasi" style="cursor: zoom-in;"><i class="fas fa-info-circle"></i> @item.UrunAdi</a>
                    }
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.UrunBirimFiyatiDisplay)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.UrunStokMiktari)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.UrunSonKullanmaTarihiDisplay)
                </td>
            </tr>
        }
        </tbody>
    </table>
}