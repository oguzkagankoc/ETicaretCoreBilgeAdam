@model UrunlerRaporIndexViewModel

<div asp-validation-summary="All" class="text-danger"></div>

<partial name="_Sonuc"/>

<div class="row" style="padding-bottom: 15px;">
    <div class="col-1">
        <select asp-for="Sayfa.PageNumber" asp-items="Model.SayfalarSelectList" class="form-control" id="sayfa"></select>
    </div>
    <div class="col-8">

    </div>
    <div class="col-2">
        <select asp-for="Sira.Expression" asp-items="Model.SiraSutunBasliklariSelectList" class="form-control sira"></select>
    </div>
    <div class="col-1">
        <select asp-for="Sira.DirectionAscending" asp-items="Model.SiraYonSelectList" class="form-control sira"></select>
    </div>
</div>

@if (Model.UrunlerRapor != null && Model.UrunlerRapor.Count() > 0)
{
    <table class="table table-striped">
        <thead>
        <tr>
            <th>
                @* 
                    List kullanıldığında IEnumerable'da olduğu gibi özellik'lerdeki DisplayName'i kullanabilmek için model'deki 
                    özellik adları kullanılamaz. Bu yüzden listedeki herhangi bir elemana ulaşmak (FirstOrDefault mantıklı)
                    ve bu eleman üzerinden özellik adlarını kullanmak gerekir.
                *@
                @Html.DisplayNameFor(model => model.UrunlerRapor.FirstOrDefault().MagazaAdi)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.UrunlerRapor.FirstOrDefault().KategoriAdi)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.UrunlerRapor.FirstOrDefault().UrunAdi)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.UrunlerRapor.FirstOrDefault().UrunBirimFiyatiDisplay)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.UrunlerRapor.FirstOrDefault().UrunStokMiktari)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.UrunlerRapor.FirstOrDefault().UrunSonKullanmaTarihiDisplay)
            </th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        @foreach (var item in Model.UrunlerRapor)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.MagazaAdi)
                </td>
                <td>
                    @if (string.IsNullOrWhiteSpace(item.KategoriAciklamasi))
                    {
                        @Html.DisplayFor(modelItem => item.KategoriAdi)
                    }
                    else
                    {
                        <a title="@item.KategoriAciklamasi" style="cursor: zoom-in;"><i class="fas fa-info-circle"></i> @item.KategoriAdi</a>
                    }
                </td>
                <td>
                    @if (string.IsNullOrWhiteSpace(item.UrunAciklamasi))
                    {
                        @Html.DisplayFor(modelItem => item.UrunAdi)
                    }
                    else
                    {
                        <a title="@item.UrunAciklamasi" style="cursor: zoom-in;"><i class="fas fa-info-circle"></i> @item.UrunAdi</a>
                    }
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.UrunBirimFiyatiDisplay)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.UrunStokMiktari)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.UrunSonKullanmaTarihiDisplay)
                </td>
            </tr>
        }
        </tbody>
    </table>
}